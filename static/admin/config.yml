backend:
  name: git-gateway
  branch: main

# Uncomment for local development: npx decap-server
# local_backend: true

# Media handling
media_folder: static/images/uploads
public_folder: /images/uploads

# Site info
site_url: https://bernbackpackers.ch
display_url: https://bernbackpackers.ch
logo_url: /images/logos/logo.png

# Localization
i18n:
  structure: single_file
  locales: [en, de, es]
  default_locale: en

# Slug settings
slug:
  encoding: ascii
  clean_accents: true

# ====================
# COLLECTIONS
# ====================
collections:

  # --------------------
  # HOMEPAGE
  # --------------------
  - name: homepage
    label: "üè† Homepage"
    files:
      - name: home
        label: Homepage Content
        file: content/pages/home.json
        fields:
          - label: "Hero Section"
            name: hero
            widget: object
            collapsed: false
            fields:
              - label: Title
                name: heroTitle
                widget: object
                fields:
                  - { label: English, name: en, widget: string }
                  - { label: German, name: de, widget: string }
                  - { label: Spanish, name: es, widget: string }

              - label: Subtitle
                name: heroSubtitle
                widget: object
                fields:
                  - { label: English, name: en, widget: string }
                  - { label: German, name: de, widget: string }
                  - { label: Spanish, name: es, widget: string }

              - label: Tagline (Badge)
                name: heroTagline
                widget: object
                fields:
                  - { label: English, name: en, widget: string }
                  - { label: German, name: de, widget: string }
                  - { label: Spanish, name: es, widget: string }

              - label: CTA Button Text
                name: heroCta
                widget: object
                fields:
                  - { label: English, name: en, widget: string }
                  - { label: German, name: de, widget: string }
                  - { label: Spanish, name: es, widget: string }

          - label: "Features (Why Choose Us)"
            name: features
            widget: list
            label_singular: "Feature"
            summary: "{{fields.title.en}} ({{fields.icon}})"
            fields:
              - label: Icon
                name: icon
                widget: select
                options:
                  - { label: "üìç Location Pin", value: "MapPin" }
                  - { label: "üì∂ WiFi", value: "Wifi" }
                  - { label: "üõ°Ô∏è Shield/Security", value: "Shield" }
                  - { label: "üí≥ Credit Card", value: "CreditCard" }
                  - { label: "üõèÔ∏è Bed", value: "Bed" }
                  - { label: "üë• Users/Group", value: "Users" }
                  - { label: "‚òï Coffee/Kitchen", value: "Coffee" }
                  - { label: "üè† Home/Building", value: "Home" }
                  - { label: "‚≠ê Star", value: "Star" }
                  - { label: "‚ù§Ô∏è Heart", value: "Heart" }

              - label: Title
                name: title
                widget: object
                fields:
                  - { label: English, name: en, widget: string }
                  - { label: German, name: de, widget: string }
                  - { label: Spanish, name: es, widget: string }

              - label: Description
                name: description
                widget: object
                fields:
                  - { label: English, name: en, widget: text }
                  - { label: German, name: de, widget: text }
                  - { label: Spanish, name: es, widget: text }

          - label: "Amenities Grid"
            name: amenities
            widget: list
            label_singular: "Amenity"
            summary: "{{fields.name.en}}"
            fields:
              - label: Icon
                name: icon
                widget: select
                options:
                  - { label: "üì∂ WiFi", value: "Wifi" }
                  - { label: "‚òï Kitchen", value: "Coffee" }
                  - { label: "üë• Common Room", value: "Users" }
                  - { label: "üè† Laundry", value: "Home" }
                  - { label: "üöø Shower", value: "Droplets" }
                  - { label: "üîí Lockers", value: "Lock" }
                  - { label: "üì∫ TV", value: "Tv" }
                  - { label: "üéÆ Games", value: "Gamepad2" }

              - label: Name
                name: name
                widget: object
                fields:
                  - { label: English, name: en, widget: string }
                  - { label: German, name: de, widget: string }
                  - { label: Spanish, name: es, widget: string }

          - label: "Call-to-Action Section"
            name: cta
            widget: object
            collapsed: true
            fields:
              - label: Title
                name: ctaTitle
                widget: object
                fields:
                  - { label: English, name: en, widget: string }
                  - { label: German, name: de, widget: string }
                  - { label: Spanish, name: es, widget: string }

              - label: Description
                name: ctaDescription
                widget: object
                fields:
                  - { label: English, name: en, widget: text }
                  - { label: German, name: de, widget: text }
                  - { label: Spanish, name: es, widget: text }

  # --------------------
  # CUSTOM PAGES
  # --------------------
  - name: pages
    label: "üìÑ Pages"
    label_singular: "Page"
    folder: content/pages
    create: true
    delete: true
    slug: "{{slug}}"
    identifier_field: slug
    summary: "{{title.en}} ({{slug}})"
    fields:
      - { label: URL Slug, name: slug, widget: string, pattern: ['^[a-z0-9-]+$', 'Only lowercase letters, numbers, and hyphens'], hint: "e.g., about-us ‚Üí /en/about-us" }

      - label: Page Title
        name: title
        widget: object
        fields:
          - { label: English, name: en, widget: string }
          - { label: German, name: de, widget: string }
          - { label: Spanish, name: es, widget: string }

      - label: Meta Description (SEO)
        name: description
        widget: object
        fields:
          - { label: English, name: en, widget: text }
          - { label: German, name: de, widget: text }
          - { label: Spanish, name: es, widget: text }

      - { label: Featured Image, name: image, widget: image, required: false }

      - label: Page Content
        name: content
        widget: object
        fields:
          - { label: English, name: en, widget: markdown }
          - { label: German, name: de, widget: markdown }
          - { label: Spanish, name: es, widget: markdown }

      - { label: Show in Navigation, name: showInNav, widget: boolean, default: false }
      - { label: Navigation Order, name: navOrder, widget: number, default: 99, required: false }
      - { label: Published, name: published, widget: boolean, default: true }

  # --------------------
  # ROOMS
  # --------------------
  - name: rooms
    label: "üõèÔ∏è Rooms"
    label_singular: "Room"
    folder: content/rooms
    create: true
    delete: true
    slug: "{{id}}"
    identifier_field: id
    summary: "{{name.en}} - CHF {{price}}"
    sortable_fields: ['order', 'price', 'name.en']
    fields:
      - { label: ID (URL slug), name: id, widget: string, pattern: ['^[a-z0-9-]+$', 'Only lowercase letters, numbers, and hyphens'], hint: "e.g., double-room-private" }

      - label: Room Name
        name: name
        widget: object
        fields:
          - { label: English, name: en, widget: string }
          - { label: German, name: de, widget: string }
          - { label: Spanish, name: es, widget: string }

      - label: Description
        name: description
        widget: object
        fields:
          - { label: English, name: en, widget: text }
          - { label: German, name: de, widget: text }
          - { label: Spanish, name: es, widget: text }

      - { label: Price (CHF), name: price, widget: number, value_type: float, min: 0, step: 0.5 }
      - label: Price Type
        name: priceUnit
        widget: select
        options:
          - { label: "Per Bed (dormitory)", value: "per_bed" }
          - { label: "Per Room (private)", value: "per_room" }

      - { label: Number of Beds, name: beds, widget: number, value_type: int, min: 1, max: 20 }
      - label: Bathroom
        name: bathType
        widget: select
        options:
          - { label: "Shared Bathroom", value: "shared" }
          - { label: "Private Bathroom", value: "private" }

      - { label: Room Photo, name: image, widget: image, required: false, hint: "Recommended: 800x600px, <200KB" }

      - label: Features
        name: features
        widget: list
        required: false
        label_singular: "Feature"
        summary: "{{fields.en}}"
        fields:
          - { label: English, name: en, widget: string }
          - { label: German, name: de, widget: string }
          - { label: Spanish, name: es, widget: string }

      - { label: Display Order, name: order, widget: number, value_type: int, default: 0, hint: "Lower = appears first" }
      - { label: Available for Booking, name: available, widget: boolean, default: true }

  # --------------------
  # GALLERY
  # --------------------
  - name: gallery
    label: "üñºÔ∏è Gallery"
    label_singular: "Photo"
    folder: content/gallery
    create: true
    delete: true
    slug: "{{slug}}"
    identifier_field: id
    summary: "{{title}} ({{category}})"
    sortable_fields: ['order', 'category', 'title']
    fields:
      - { label: ID, name: id, widget: string, pattern: ['^[a-z0-9-]+$', 'Lowercase letters, numbers, hyphens only'] }
      - { label: Title, name: title, widget: string }
      - { label: Image, name: image, widget: image, hint: "Recommended: 1200x800px, <300KB" }
      - label: Category
        name: category
        widget: select
        options:
          - { label: "üõèÔ∏è Rooms", value: "rooms" }
          - { label: "üè¢ Facilities", value: "facilities" }
          - { label: "üõãÔ∏è Common Areas", value: "common_areas" }
          - { label: "üèõÔ∏è Exterior/Building", value: "exterior" }
          - { label: "üìç Location/Neighborhood", value: "location" }
      - { label: Display Order, name: order, widget: number, value_type: int, default: 0 }
      - label: Alt Text (Accessibility)
        name: alt
        widget: object
        collapsed: true
        fields:
          - { label: English, name: en, widget: string, required: false }
          - { label: German, name: de, widget: string, required: false }
          - { label: Spanish, name: es, widget: string, required: false }

  # --------------------
  # DOCUMENTS & FILES
  # --------------------
  - name: documents
    label: "üìÑ Documents"
    label_singular: "Document"
    folder: content/documents
    create: true
    delete: true
    slug: "{{slug}}"
    summary: "{{title}} ({{type}})"
    fields:
      - { label: Title, name: title, widget: string }
      - { label: Description, name: description, widget: text, required: false }
      - label: Document Type
        name: type
        widget: select
        options:
          - { label: "üìã Terms & Conditions", value: "terms" }
          - { label: "üîí Privacy Policy", value: "privacy" }
          - { label: "üìú House Rules", value: "house_rules" }
          - { label: "üìÑ Price List", value: "prices" }
          - { label: "üó∫Ô∏è Map/Directions", value: "map" }
          - { label: "üì∞ Brochure", value: "brochure" }
          - { label: "üìé Other", value: "other" }
      - { label: File (PDF/Image), name: file, widget: file, hint: "PDF, JPG, PNG - max 5MB" }
      - { label: Published, name: published, widget: boolean, default: true }
      - { label: Order, name: order, widget: number, default: 0, required: false }

  # --------------------
  # SITE SETTINGS
  # --------------------
  - name: settings
    label: "‚öôÔ∏è Settings"
    files:
      - name: general
        label: General Settings
        file: content/settings/general.json
        fields:
          - { label: Site Name, name: siteName, widget: string }
          - label: "Contact Info"
            name: contact
            widget: object
            fields:
              - { label: Phone, name: phone, widget: string }
              - { label: Fax, name: fax, widget: string, required: false }
              - { label: Email, name: email, widget: string }
              - { label: Address, name: address, widget: text }
          - label: "Hours"
            name: hours
            widget: object
            fields:
              - { label: Reception Hours, name: receptionHours, widget: string }
              - { label: Check-in, name: checkIn, widget: string, required: false }
              - { label: Check-out, name: checkOut, widget: string, required: false }
              - { label: Quiet Hours, name: quietHours, widget: string, required: false }
          - { label: Booking System URL, name: bookingUrl, widget: string, hint: "External booking URL" }

      - name: social
        label: Social Media
        file: content/settings/social.json
        fields:
          - { label: Facebook, name: facebook, widget: string, required: false }
          - { label: Instagram, name: instagram, widget: string, required: false }
          - { label: TripAdvisor, name: tripadvisor, widget: string, required: false }
          - { label: Google Maps, name: googleMaps, widget: string, required: false }

      - name: seo
        label: SEO & Metadata
        file: content/settings/seo.json
        fields:
          - label: Default Meta Title
            name: title
            widget: object
            fields:
              - { label: English, name: en, widget: string }
              - { label: German, name: de, widget: string }
              - { label: Spanish, name: es, widget: string }
          - label: Default Meta Description
            name: description
            widget: object
            fields:
              - { label: English, name: en, widget: text }
              - { label: German, name: de, widget: text }
              - { label: Spanish, name: es, widget: text }
          - { label: OG Image, name: ogImage, widget: image, required: false, hint: "Social share image (1200x630px)" }

  # --------------------
  # BLOG / NEWS
  # --------------------
  - name: blog
    label: "üì∞ News & Updates"
    label_singular: "Post"
    folder: content/blog
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    summary: "{{title}} ({{date | date('YYYY-MM-DD')}})"
    sortable_fields: ['date', 'title']
    fields:
      - { label: Title, name: title, widget: string }
      - { label: Publish Date, name: date, widget: datetime }
      - { label: Featured Image, name: image, widget: image, required: false }
      - { label: Excerpt/Summary, name: excerpt, widget: text, required: false, hint: "Short description for listings" }
      - label: Content
        name: body
        widget: object
        fields:
          - { label: English, name: en, widget: markdown }
          - { label: German, name: de, widget: markdown }
          - { label: Spanish, name: es, widget: markdown }
      - { label: Published, name: published, widget: boolean, default: false }
      - { label: Tags, name: tags, widget: list, required: false }
